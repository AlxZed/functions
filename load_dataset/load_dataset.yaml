kind: job
metadata:
  name: load-dataset
  tag: ''
  hash: 57d51bd0d543b236649ea7dff1e9b7af6e5a16c4
  project: default
  labels:
    author: yjb
    framework: sklearn
  categories:
  - data-source
  - ml
spec:
  command: ''
  args: []
  image: mlrun/ml-models
  env: []
  default_handler: load_dataset
  entry_points:
    load_dataset:
      name: load_dataset
      doc: "Loads a scikit-learn toy dataset for classification or regression\n\n\
        The following datasets are available ('name' : desription):\n\n    'boston'\
        \          : boston house-prices dataset (regression)\n    'iris'        \
        \    : iris dataset (classification)\n    'diabetes'        : diabetes dataset\
        \ (regression)\n    'digits'          : digits dataset (classification)\n\
        \    'linnerud'        : linnerud dataset (multivariate regression)\n    'wine'\
        \            : wine dataset (classification)\n    'breast_cancer'   : breast\
        \ cancer wisconsin dataset (classification)\n\nThe scikit-learn functions\
        \ return a data bunch including the following items:\n- data             \
        \ the features matrix\n- target            the ground truth labels\n- DESCR\
        \             a description of the dataset\n- feature_names     header for\
        \ data\n\nThe features (and their names) are stored with the target labels\
        \ in a DataFrame.\n\nFor further details see https://scikit-learn.org/stable/datasets/index.html#toy-datasets"
      parameters:
      - name: context
        type: MLClientCtx
        doc: function execution context
        default: ''
      - name: dataset
        type: str
        doc: name of the dataset to load
        default: ''
      - name: name
        type: str
        doc: artifact name (defaults to dataset)
        default: ''
      - name: file_ext
        type: str
        doc: 'output file_ext: parquet or csv'
        default: parquet
      - name: params
        type: dict
        doc: params of the sklearn load_data method
        default: {}
      outputs:
      - default: ''
      lineno: 20
  description: load a toy dataset from scikit-learn
  build:
    functionSourceCode: IyBDb3B5cmlnaHQgMjAxOCBJZ3VhemlvCiMKIyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKIyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiMgWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CiMKIyAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAojCiMgVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQojIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiMgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiMgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAojIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoKaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBwYW5kYXMgYXMgcGQKZnJvbSBtbHJ1bi5leGVjdXRpb24gaW1wb3J0IE1MQ2xpZW50Q3R4CgoKZGVmIGxvYWRfZGF0YXNldCgKICAgICAgICBjb250ZXh0OiBNTENsaWVudEN0eCwKICAgICAgICBkYXRhc2V0OiBzdHIsCiAgICAgICAgbmFtZTogc3RyID0gJycsCiAgICAgICAgZmlsZV9leHQ6IHN0ciA9ICdwYXJxdWV0JywKICAgICAgICBwYXJhbXM6IGRpY3QgPSB7fQopIC0+IE5vbmU6CiAgICAiIiJMb2FkcyBhIHNjaWtpdC1sZWFybiB0b3kgZGF0YXNldCBmb3IgY2xhc3NpZmljYXRpb24gb3IgcmVncmVzc2lvbgoKICAgIFRoZSBmb2xsb3dpbmcgZGF0YXNldHMgYXJlIGF2YWlsYWJsZSAoJ25hbWUnIDogZGVzcmlwdGlvbik6CgogICAgICAgICdib3N0b24nICAgICAgICAgIDogYm9zdG9uIGhvdXNlLXByaWNlcyBkYXRhc2V0IChyZWdyZXNzaW9uKQogICAgICAgICdpcmlzJyAgICAgICAgICAgIDogaXJpcyBkYXRhc2V0IChjbGFzc2lmaWNhdGlvbikKICAgICAgICAnZGlhYmV0ZXMnICAgICAgICA6IGRpYWJldGVzIGRhdGFzZXQgKHJlZ3Jlc3Npb24pCiAgICAgICAgJ2RpZ2l0cycgICAgICAgICAgOiBkaWdpdHMgZGF0YXNldCAoY2xhc3NpZmljYXRpb24pCiAgICAgICAgJ2xpbm5lcnVkJyAgICAgICAgOiBsaW5uZXJ1ZCBkYXRhc2V0IChtdWx0aXZhcmlhdGUgcmVncmVzc2lvbikKICAgICAgICAnd2luZScgICAgICAgICAgICA6IHdpbmUgZGF0YXNldCAoY2xhc3NpZmljYXRpb24pCiAgICAgICAgJ2JyZWFzdF9jYW5jZXInICAgOiBicmVhc3QgY2FuY2VyIHdpc2NvbnNpbiBkYXRhc2V0IChjbGFzc2lmaWNhdGlvbikKCiAgICBUaGUgc2Npa2l0LWxlYXJuIGZ1bmN0aW9ucyByZXR1cm4gYSBkYXRhIGJ1bmNoIGluY2x1ZGluZyB0aGUgZm9sbG93aW5nIGl0ZW1zOgogICAgLSBkYXRhICAgICAgICAgICAgICB0aGUgZmVhdHVyZXMgbWF0cml4CiAgICAtIHRhcmdldCAgICAgICAgICAgIHRoZSBncm91bmQgdHJ1dGggbGFiZWxzCiAgICAtIERFU0NSICAgICAgICAgICAgIGEgZGVzY3JpcHRpb24gb2YgdGhlIGRhdGFzZXQKICAgIC0gZmVhdHVyZV9uYW1lcyAgICAgaGVhZGVyIGZvciBkYXRhCgogICAgVGhlIGZlYXR1cmVzIChhbmQgdGhlaXIgbmFtZXMpIGFyZSBzdG9yZWQgd2l0aCB0aGUgdGFyZ2V0IGxhYmVscyBpbiBhIERhdGFGcmFtZS4KCiAgICBGb3IgZnVydGhlciBkZXRhaWxzIHNlZSBodHRwczovL3NjaWtpdC1sZWFybi5vcmcvc3RhYmxlL2RhdGFzZXRzL2luZGV4Lmh0bWwjdG95LWRhdGFzZXRzCgogICAgOnBhcmFtIGNvbnRleHQ6ICAgIGZ1bmN0aW9uIGV4ZWN1dGlvbiBjb250ZXh0CiAgICA6cGFyYW0gZGF0YXNldDogICAgbmFtZSBvZiB0aGUgZGF0YXNldCB0byBsb2FkCiAgICA6cGFyYW0gbmFtZTogICAgICAgYXJ0aWZhY3QgbmFtZSAoZGVmYXVsdHMgdG8gZGF0YXNldCkKICAgIDpwYXJhbSBmaWxlX2V4dDogICBvdXRwdXQgZmlsZV9leHQ6IHBhcnF1ZXQgb3IgY3N2CiAgICA6cGFyYW0gcGFyYW1zOiAgICAgcGFyYW1zIG9mIHRoZSBza2xlYXJuIGxvYWRfZGF0YSBtZXRob2QKICAgICIiIgogICAgZGF0YXNldCA9IHN0cihkYXRhc2V0KQogICAgCiAgICAjIHJlYWNoIGludG8gbW9kdWxlIGFuZCBpbXBvcnQgdGhlIGFwcHJvcHJpYXRlIGxvYWRfeHh4IGZ1bmN0aW9uCiAgICBwa2dfbW9kdWxlID0gJ3NrbGVhcm4uZGF0YXNldHMnCiAgICBmbmFtZSA9IGYnbG9hZF97ZGF0YXNldH0nCgogICAgcGtnX21vZHVsZSA9IF9faW1wb3J0X18ocGtnX21vZHVsZSwgZnJvbWxpc3Q9W2ZuYW1lXSkKICAgIGxvYWRfZGF0YV9mbiA9IGdldGF0dHIocGtnX21vZHVsZSwgZm5hbWUpCgogICAgZGF0YSA9IGxvYWRfZGF0YV9mbigqKnBhcmFtcykKICAgIGZlYXR1cmVfbmFtZXMgPSBkYXRhWydmZWF0dXJlX25hbWVzJ10KCiAgICAjIGNyZWF0ZSB0aGUgdG95IGRhdGFzZXQKICAgIHh5ID0gbnAuY29uY2F0ZW5hdGUoW2RhdGFbJ2RhdGEnXSwgZGF0YVsndGFyZ2V0J10ucmVzaGFwZSgtMSwgMSldLCBheGlzPTEpCiAgICBpZiBoYXNhdHRyKGZlYXR1cmVfbmFtZXMsICdhcHBlbmQnKToKICAgICAgICAKICAgICAgICAjIGl0cyBhIGxpc3QKICAgICAgICBmZWF0dXJlX25hbWVzLmFwcGVuZCgnbGFiZWxzJykKICAgIGVsc2U6CiAgICAgICAgCiAgICAgICAgIyBpdHMgYW4gYXJyYXkKICAgICAgICBmZWF0dXJlX25hbWVzID0gbnAuYXBwZW5kKGZlYXR1cmVfbmFtZXMsICdsYWJlbHMnKQogICAgZGYgPSBwZC5EYXRhRnJhbWUoZGF0YT14eSwgY29sdW1ucz1mZWF0dXJlX25hbWVzKQoKICAgICMgbG9nIGFuZCB1cGxvYWQgdGhlIGRhdGFzZXQKICAgIGNvbnRleHQubG9nX2RhdGFzZXQobmFtZSBvciBkYXRhc2V0LCBkZj1kZiwgZm9ybWF0PWZpbGVfZXh0LCBpbmRleD1GYWxzZSk=
    commands: []
    code_origin: https://github.com/AlonMaor14/functions.git#3a329ce1ad60e6f58ab7c57d1a224e2fa0bc8d2f:load_dataset.py
verbose: false
